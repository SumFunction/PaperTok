# 快速开始

> **目标**: 5 分钟内启动 PaperTok 后端服务

---

## 1. 环境要求

| 依赖 | 版本 |
|------|------|
| Go | 1.21+ |
| Git | 2.x |

---

## 2. 获取代码

```bash
git clone https://github.com/rrlian/papertok.git
cd papertok/backend
```

---

## 3. 安装依赖

```bash
go mod download
```

---

## 4. 启动服务

### 4.1 开发模式

```bash
go run cmd/server/main.go
```

服务默认启动在 `http://localhost:8080`

### 4.2 构建后运行

```bash
# 构建
go build -o papertok-server cmd/server/main.go

# 运行
./papertok-server
```

---

## 5. 验证服务

### 5.1 健康检查

```bash
curl http://localhost:8080/health
```

预期响应：
```json
{"status":"ok","version":"1.0.0"}
```

### 5.2 获取论文

```bash
curl "http://localhost:8080/api/v1/papers?category=cs.AI&limit=5"
```

### 5.3 搜索论文

```bash
curl "http://localhost:8080/api/v1/papers/search?query=machine+learning&limit=5"
```

---

## 6. 配置说明

配置文件位于 `config.yaml`：

```yaml
server:
  port: 8080
  mode: debug  # debug, release

arxiv:
  base_url: "http://export.arxiv.org/api/query"
  timeout: 10s

cache:
  enabled: true
  ttl: 300s  # 5 分钟

cors:
  allowed_origins:
    - "http://localhost:5173"
    - "http://localhost:3000"
```

可以通过环境变量 `CONFIG_PATH` 指定配置文件路径：

```bash
CONFIG_PATH=/path/to/config.yaml go run cmd/server/main.go
```

---

## 7. 运行测试

```bash
# 运行所有测试
go test ./...

# 运行特定包的测试
go test ./internal/core/arxiv/...
go test ./internal/features/paperfeed/...

# 带覆盖率
go test -cover ./...
```

---

## 8. 常见问题

### Q: arXiv API 请求超时？

arXiv API 有时响应较慢，可以增加超时配置：

```yaml
arxiv:
  timeout: 30s
```

### Q: 端口被占用？

修改 `config.yaml` 中的端口：

```yaml
server:
  port: 9090
```

### Q: 如何查看日志？

开发模式下日志输出到标准输出，格式：
```
[GET] 127.0.0.1 /api/v1/papers 200 234ms
```

---

## 9. 下一步

- 阅读 [01-项目架构总览.md](./01-项目架构总览.md) 了解架构设计
- 阅读 [03-后端架构详解.md](./03-后端架构详解.md) 深入理解分层
- 阅读 [04-API接口说明.md](./04-API接口说明.md) 查看 API 文档
