# PaperTok 产品需求文档（PRD）

## 1. 产品概述

### 1.1 产品定位
PaperTok 是一个网页版"抖音式刷论文"应用，通过沉浸式的卡片流体验，让用户能够快速浏览和发现 arXiv 上的最新学术论文。

### 1.2 核心价值
- **高效浏览**：通过短视频式的滑动体验，快速筛选感兴趣的论文
- **降低认知负担**：精美的视觉呈现，让阅读论文变得轻松愉悦
- **个性化发现**：基于分类和兴趣筛选，发现相关领域最新研究

### 1.3 目标用户
- 科研人员和研究生
- AI/CS 领域从业者
- 学术爱好者

---

## 2. 用户故事与使用场景

### 2.1 核心用户故事
1. **快速浏览新论文**
   - 作为研究人员，我想要快速浏览本周发表的最新论文，以便跟上领域前沿

2. **筛选感兴趣的内容**
   - 作为开发者，我想要按分类浏览 AI 相关论文，以便找到有用的技术方案

3. **收藏和管理**
   - 作为学生，我想要收藏感兴趣的论文，方便后续深入阅读

### 2.2 典型使用场景
- **早晨咖啡时间**：打开 PaperTok，花 10 分钟刷刷昨晚新增的论文
- **通勤路上**：快速浏览推荐流，标记值得精读的论文
- **技术调研**：按分类浏览特定领域的最新研究进展

---

## 3. 功能需求详细说明

### 3.1 论文推荐流（核心功能）

#### 3.1.1 卡片展示
每个论文卡片包含以下信息：
- **论文标题**：完整标题，超长时省略显示，点击展开
- **作者信息**：前 3 位作者 + "et al."（如有更多）
- **发表时间**：格式化为"X 天前"
- **摘要**：前 150 字，点击展开完整摘要
- **封面图**：
  - 优先使用论文中的主图
  - 无图时使用分类相关的默认精美占位图
- **arXiv 标识**：显示 arXiv ID 和分类标签

#### 3.1.2 交互行为
- **滑动浏览**：垂直滚动，自动加载下一批论文
- **预加载策略**：提前加载 3-5 篇论文，确保流畅体验
- **键盘支持**：
  - `j`/`k` 或 `↓`/`↑`：切换到上/下一篇
  - `l`：点赞
  - `f`：收藏

### 3.2 基础交互功能

#### 3.2.1 点赞
- 点击心形图标快速标记喜欢
- 点赞状态本地存储
- 点赞后图标变为实心红色

#### 3.2.2 收藏
- 点击书签图标收藏论文
- 收藏列表独立页面展示
- 支持取消收藏

#### 3.2.3 分享
- 点击分享按钮复制论文标题 + 链接到剪贴板
- 复制成功后显示 Toast 提示

#### 3.2.4 跳转原文
- 点击"查看原文"按钮在新标签页打开 arXiv
- 右键点击卡片同样可打开原文

### 3.3 数据获取与过滤

#### 3.3.1 arXiv API 集成
- 使用 arXiv API (`http://export.arxiv.org/api/query`)
- 支持：
  - 按分类查询（CS.AI、CS.CL、CS.LG、CS.CV 等）
  - 按时间范围过滤（最近 1 天/1 周/1 月）
  - 关键词搜索

#### 3.3.2 分类选择器
- 顶部展示常用分类标签
- 支持快速切换：
  - 全部
  - 人工智能（cs.AI）
  - 计算语言学（cs.CL）
  - 机器学习（cs.LG）
  - 计算机视觉（cs.CV）
  - 机器人（cs.RO）
  - 自然语言处理（cs.NE）

### 3.4 收藏列表页面

#### 3.4.1 列表展示
- 展示所有已收藏的论文
- 按收藏时间倒序排列
- 支持快速取消收藏

---

## 4. 非功能需求

### 4.1 性能要求
- **首屏加载**：< 2 秒
- **滑动响应**：< 100ms，60fps 流畅度
- **图片加载**：懒加载 + 占位符
- **API 响应**：后端代理 arXiv API，< 5 秒返回

### 4.2 可用性要求
- **响应式设计**：支持桌面端和移动端浏览器
- **离线支持**：已浏览的论文缓存，支持离线查看
- **错误处理**：网络失败时友好提示，支持重试

### 4.3 兼容性
- **浏览器**：Chrome 90+、Firefox 88+、Safari 14+、Edge 90+
- **设备**：桌面端（1920x1080 及以上）、移动端（375px 及以上）

---

## 5. 交互设计要点

### 5.1 视觉风格
- **极简设计**：白色背景，强调内容本身
- **卡片布局**：居中展示，最大宽度 600px
- **动画效果**：
  - 卡片切换：淡入淡出
  - 点赞：心形弹跳动画
  - 收藏：书签翻转动画

### 5.2 操作反馈
- **即时反馈**：所有操作 < 100ms 视觉反馈
- **状态提示**：
  - 加载中：骨架屏
  - 加载失败：错误提示 + 重试按钮
  - 无更多内容：提示文案

### 5.3 快捷操作
- **键盘快捷键**：支持快速浏览和操作
- **手势支持**：移动端支持左右滑动切换

---

## 6. 数据结构设计

### 6.1 论文数据结构
```typescript
interface Paper {
  id: string;                    // arXiv ID (e.g., "2401.12345")
  title: string;                 // 论文标题
  authors: string[];             // 作者列表
  summary: string;               // 摘要
  published: string;             // 发表时间 (ISO 8601)
  updated: string;               // 更新时间 (ISO 8601)
  categories: string[];          // 分类标签
  primaryCategory: string;       // 主分类
  imageUrl?: string;             // 封面图 URL
  arxivUrl: string;              // arXiv 原文链接
  pdfUrl: string;                // PDF 链接
}
```

### 6.2 用户数据结构（本地存储）
```typescript
interface UserPreference {
  likedPapers: Set<string>;      // 点赞的论文 ID 集合
  favoritePapers: Set<string>;   // 收藏的论文 ID 集合
  viewedPapers: Set<string>;     // 已浏览的论文 ID 集合
  selectedCategory: string;      // 当前选择的分类
  timeRange: string;             // 时间范围 (day/week/month)
}
```

---

## 7. 成功指标

### 7.1 MVP 验收标准
- [ ] 能够从 arXiv 成功获取论文数据
- [ ] 推荐流滑动流畅，无卡顿
- [ ] 点赞、收藏功能正常工作，状态持久化
- [ ] 分类切换和搜索功能可用
- [ ] 收藏列表页面正常展示
- [ ] 在主流浏览器上正常运行

### 7.2 后续迭代指标
- 用户留存率（日活、周活）
- 平均浏览时长
- 收藏转化率
- 分享次数

---

## 8. MVP 边界与未来规划

### 8.1 MVP 不包含的功能
- 用户注册/登录系统
- 复杂推荐算法
- 评论和讨论功能
- PDF 在线预览
- 社交分享到第三方平台
- 多语言支持

### 8.2 未来可能的功能
- 推荐算法优化（基于浏览历史）
- 用户账号与云同步
- 论文笔记和高亮功能
- 学术社区互动
- 移动端原生应用
- AI 辅助摘要生成
- 引文关系可视化

---

## 9. 风险与依赖

### 9.1 外部依赖
- **arXiv API**：公开可用，但有请求频率限制
- **浏览器兼容性**：依赖现代浏览器 API

### 9.2 技术风险
- **API 稳定性**：arXiv API 可能波动，需要缓存和重试机制
- **性能瓶颈**：大量图片加载可能影响性能，需要优化加载策略
- **跨域问题**：arXiv API 支持 CORS，但需要测试验证

---

## 10. 开发优先级

### Phase 1（核心功能）
1. 后端：arXiv API 代理服务
2. 前端：推荐流卡片展示
3. 前端：基础滑动交互

### Phase 2（交互增强）
4. 前端：点赞/收藏功能
5. 前端：分类筛选
6. 前端：收藏列表页面

### Phase 3（体验优化）
7. 前端：键盘快捷键
8. 前端：动画效果
9. 后端：数据缓存优化

---

**文档版本**：v1.0
**最后更新**：2025-01-22
**状态**：MVP 规划完成
